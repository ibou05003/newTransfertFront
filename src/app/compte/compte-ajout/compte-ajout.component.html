<app-header></app-header>
<div class="container fond mt-5" style="height: 80vh;">
    <div class="container mt-4">
        <div class="row">
            <div class="col-12 text-center">
                <h1>Ajout Compte</h1>
            </div>
        </div>
        <div class="row">
            <div class="col-12 col-md-6 offset-md-4">
                <form [formGroup]="partForm" (ngSubmit)="recherchePart(partForm.value)">
                    <mat-form-field class="full-width">
                        <input matInput placeholder="Entrer le ninea" formControlName="ninea" required>
                        <mat-error *ngFor="let validation of account_validation_messages.ninea">
                            <mat-error class="error-message" *ngIf="partForm.get('ninea').hasError(validation.type) && (partForm.get('ninea').dirty || partForm.get('ninea').touched)">{{validation.message}}</mat-error>
                        </mat-error>
                    </mat-form-field>
                    <button class="btn btn-success" type="submit" [disabled]="!partForm.valid"><i class="fas fa-search"></i></button>
                </form>
            </div>
        </div>
        <div class="row" *ngIf="partAffiche">
            <div class="col-6">
                <div class="row">
                    <h1>Informations Partenaire</h1>
                </div>
                <div class="row">
                    <div class="col-12 col-md-6">
                        <mat-form-field class="col-12">
                            <input matInput disabled placeholder="Raison Sociale" value="{{partenaire.raisonSociale}}">
                        </mat-form-field>
                    </div>
                    <div class="col-12 col-md-6">
                        <mat-form-field class="col-12">
                            <input matInput disabled placeholder="NINEA" value="{{partenaire.ninea}}">
                        </mat-form-field>
                    </div>
                </div>
                <div class="row">
                    <div class="col-12 col-md-6">
                        <mat-form-field class="col-12">
                            <input matInput disabled placeholder="Telephone Siege" value="{{partenaire.telephoneSiege}}">
                        </mat-form-field>
                    </div>
                    <div class="col-12 col-md-6">
                        <mat-form-field class="col-12">
                            <input matInput disabled placeholder="Email Siege" value="{{partenaire.emailSiege}}">
                        </mat-form-field>
                    </div>
                </div>
                <div class="row">
                    <div class="col-12">
                        <mat-form-field class="col-12">
                            <input matInput disabled placeholder="Adresse Siege" value="{{partenaire.adresseSociale}}">
                        </mat-form-field>
                    </div>
                </div>
            </div>
            <div class="col-6">
                <div class="row">
                    <div class="col-12">
                        <h1>Comptes</h1>
                    </div>
                    <div class="col-12">
                        <table class="table table-striped">
                            <thead>
                                <tr>
                                    <th scope="col">Numero de Compte</th>
                                    <th scope="col">Solde</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr *ngFor="let compte of partenaire.comptes">
                                    <td>{{ compte.numeroCompte }}</td>
                                    <td>{{ compte.solde }} F CFA</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                <div class="row">
                    <div class="col-12">
                        <form [formGroup]="ajoutCompteForm" (ngSubmit)="ajoutCompte(partenaire.id)">
                            <input type="hidden" formControlName="id">
                            <button type="submit" class="btn btn-success">Ajouter un Compte</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>