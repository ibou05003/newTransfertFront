<app-header></app-header>
<div class="container fond mt-2" style="min-height: 85vh">
    <div class="container">
        <div class="row">
            <div class="col-12 text-center pt-1">
                <h5>Choisir une Periode</h5>
            </div>
        </div>
        <div class="row">
            <div class="col-12 col-md-6 offset-md-3">
                <form [formGroup]="periodeForm" (ngSubmit)="recherchePeriode(periodeForm.value)">
                    <div class="row">
                        <div class="col-12 col-md-6">
                            <mat-form-field class="col-12">
                                <input matInput [matDatepicker]="picker" formControlName="debut" placeholder="Date Debut">
                                <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                                <mat-datepicker #picker></mat-datepicker>
                            </mat-form-field>
                        </div>
                        <div class="col-12 col-md-6">
                            <mat-form-field class="col-12">
                                <input matInput [matDatepicker]="picker1" formControlName="fin" placeholder="Date Fin">
                                <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
                                <mat-datepicker #picker1></mat-datepicker>
                            </mat-form-field>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-12 text-center">
                            <button type="submit" class="btn btn-success">Afficher</button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
        <div [hidden]="afficheTransaction" class="row mt-2">
            <mat-tab-group #tabGroup (selectedIndexChange)="_setDataSource($event)" class="col-12 mb-5">
                <mat-tab label="Envois">
                    <div class="col-12">
                        <div class="container-fluid">
                            <div class="row bg-dark">
                                <div class="offset-9 col-3">
                                    <mat-form-field>
                                        <input matInput (keyup)="applyFilter($event.target.value)" placeholder="Rechercher">
                                    </mat-form-field>
                                </div>
                            </div>
                        </div>
                        <div class="mat-elevation-z8">
                            <table #table mat-table [dataSource]="dataSource1" #matSort="matSort" matSort>

                                <!-- ID Column -->
                                <ng-container matColumnDef="id">
                                    <th mat-header-cell *matHeaderCellDef mat-sort-header> ID </th>
                                    <td mat-cell *matCellDef="let row"> {{row.id}} </td>
                                </ng-container>

                                <!-- rs Column -->
                                <ng-container matColumnDef="prenomEnv">
                                    <th mat-header-cell *matHeaderCellDef mat-sort-header> Prenom Env </th>
                                    <td mat-cell *matCellDef="let row"> {{row.prenomEnv}} </td>
                                </ng-container>

                                <!-- ninea Column -->

                                <ng-container matColumnDef="nomEnv">
                                    <th mat-header-cell *matHeaderCellDef mat-sort-header> Nom Env </th>
                                    <td mat-cell *matCellDef="let row"> {{row.nomEnv}} </td>
                                </ng-container>


                                <!-- adresse Column -->
                                <ng-container matColumnDef="telEnv">
                                    <th mat-header-cell *matHeaderCellDef mat-sort-header> Téléphone Env </th>
                                    <td mat-cell *matCellDef="let row"> {{row.telEnv}} </td>
                                </ng-container>

                                <!-- tel Column -->
                                <ng-container matColumnDef="cniEnv">
                                    <th mat-header-cell *matHeaderCellDef mat-sort-header> CNI Env </th>
                                    <td mat-cell *matCellDef="let row"> {{row.cniEnv}} </td>
                                </ng-container>

                                <!-- desc Column -->
                                <ng-container matColumnDef="prenomBenef">
                                    <th mat-header-cell *matHeaderCellDef mat-sort-header> Prenom Benef </th>
                                    <td mat-cell *matCellDef="let row"> {{row.prenomBenef}} </td>
                                </ng-container>
                                <!-- statu Column -->
                                <ng-container matColumnDef="nomBenef">
                                    <th mat-header-cell *matHeaderCellDef mat-sort-header> Nom Benef </th>
                                    <td mat-cell *matCellDef="let row"> {{row.nomBenef}} </td>
                                </ng-container>
                                <!-- statu Column -->
                                <ng-container matColumnDef="telBenef">
                                    <th mat-header-cell *matHeaderCellDef mat-sort-header> Tel Benef </th>
                                    <td mat-cell *matCellDef="let row"> {{row.telBenef}} </td>
                                </ng-container>

                                <!-- statu Column -->
                                <ng-container matColumnDef="frais">
                                    <th mat-header-cell *matHeaderCellDef mat-sort-header> Frais </th>
                                    <td mat-cell *matCellDef="let row"> {{row.frais}} </td>
                                </ng-container>

                                <!-- statu Column -->
                                <ng-container matColumnDef="code">
                                    <th mat-header-cell *matHeaderCellDef mat-sort-header> Code </th>
                                    <td mat-cell *matCellDef="let row"> {{row.code}} </td>
                                </ng-container>

                                <!-- statu Column -->
                                <ng-container matColumnDef="montant">
                                    <th mat-header-cell *matHeaderCellDef mat-sort-header> Montant </th>
                                    <td mat-cell *matCellDef="let row"> {{row.montant}} </td>
                                </ng-container>

                                <!-- statu Column -->
                                <ng-container matColumnDef="dateEnv">
                                    <th mat-header-cell *matHeaderCellDef mat-sort-header> Date Env </th>
                                    <td mat-cell *matCellDef="let row"> {{row.dateEnv | date:'dd-MM-yyyy'}} </td>
                                </ng-container>

                                <!-- statu Column -->
                                <ng-container matColumnDef="commissionEnv">
                                    <th mat-header-cell *matHeaderCellDef mat-sort-header> Commissions</th>
                                    <td mat-cell *matCellDef="let row"> {{row.commissionEnv}} </td>
                                </ng-container>


                                <!-- statu Column -->
                                <ng-container matColumnDef="status">
                                    <th mat-header-cell *matHeaderCellDef mat-sort-header> Status</th>
                                    <td mat-cell *matCellDef="let row"> {{row.status}} </td>
                                </ng-container>

                                <tr mat-header-row *matHeaderRowDef="displayedColumnsEnv"></tr>
                                <tr mat-row *matRowDef="let row; columns: displayedColumnsEnv;">
                                </tr>
                            </table>

                            <mat-paginator #paginator [pageSizeOptions]="[5, 10, 25, 100]"></mat-paginator>
                        </div>
                    </div>
                </mat-tab>
                <mat-tab label="Retraits">
                    <div class="col-12">
                        <div class="container-fluid">
                            <div class="row bg-dark">
                                <div class="offset-9 col-3">
                                    <mat-form-field>
                                        <input matInput (keyup)="applyFilter1($event.target.value)" placeholder="Rechercher">
                                    </mat-form-field>
                                </div>
                            </div>
                        </div>
                        <div class="mat-elevation-z8">
                            <table mat-table #table [dataSource]="dataSource2" #matSort1="matSort" matSort>

                                <!-- ID Column -->
                                <ng-container matColumnDef="id">
                                    <th mat-header-cell *matHeaderCellDef mat-sort-header> ID </th>
                                    <td mat-cell *matCellDef="let row"> {{row.id}} </td>
                                </ng-container>

                                <!-- rs Column -->
                                <ng-container matColumnDef="prenomEnv">
                                    <th mat-header-cell *matHeaderCellDef mat-sort-header> Prenom Env </th>
                                    <td mat-cell *matCellDef="let row"> {{row.prenomEnv}} </td>
                                </ng-container>

                                <!-- ninea Column -->

                                <ng-container matColumnDef="nomEnv">
                                    <th mat-header-cell *matHeaderCellDef mat-sort-header> Nom Env </th>
                                    <td mat-cell *matCellDef="let row"> {{row.nomEnv}} </td>
                                </ng-container>


                                <!-- adresse Column -->
                                <ng-container matColumnDef="telEnv">
                                    <th mat-header-cell *matHeaderCellDef mat-sort-header> Téléphone Env </th>
                                    <td mat-cell *matCellDef="let row"> {{row.telEnv}} </td>
                                </ng-container>

                                <!-- tel Column -->
                                <ng-container matColumnDef="cniEnv">
                                    <th mat-header-cell *matHeaderCellDef mat-sort-header> CNI Env </th>
                                    <td mat-cell *matCellDef="let row"> {{row.cniEnv}} </td>
                                </ng-container>

                                <!-- desc Column -->
                                <ng-container matColumnDef="prenomBenef">
                                    <th mat-header-cell *matHeaderCellDef mat-sort-header> Prenom Benef </th>
                                    <td mat-cell *matCellDef="let row"> {{row.prenomBenef}} </td>
                                </ng-container>
                                <!-- statu Column -->
                                <ng-container matColumnDef="nomBenef">
                                    <th mat-header-cell *matHeaderCellDef mat-sort-header> Nom Benef </th>
                                    <td mat-cell *matCellDef="let row"> {{row.nomBenef}} </td>
                                </ng-container>
                                <!-- statu Column -->
                                <ng-container matColumnDef="telBenef">
                                    <th mat-header-cell *matHeaderCellDef mat-sort-header> Tel Benef </th>
                                    <td mat-cell *matCellDef="let row"> {{row.telBenef}} </td>
                                </ng-container>

                                <!-- statu Column -->
                                <ng-container matColumnDef="frais">
                                    <th mat-header-cell *matHeaderCellDef mat-sort-header> Frais </th>
                                    <td mat-cell *matCellDef="let row"> {{row.frais}} </td>
                                </ng-container>

                                <!-- statu Column -->
                                <ng-container matColumnDef="code">
                                    <th mat-header-cell *matHeaderCellDef mat-sort-header> Code </th>
                                    <td mat-cell *matCellDef="let row"> {{row.code}} </td>
                                </ng-container>

                                <!-- statu Column -->
                                <ng-container matColumnDef="montant">
                                    <th mat-header-cell *matHeaderCellDef mat-sort-header> Montant </th>
                                    <td mat-cell *matCellDef="let row"> {{row.montant}} </td>
                                </ng-container>

                                <!-- statu Column -->
                                <ng-container matColumnDef="dateRet">
                                    <th mat-header-cell *matHeaderCellDef mat-sort-header> Date Ret </th>
                                    <td mat-cell *matCellDef="let row"> {{row.dateRet | date:'dd-MM-yyyy'}} </td>
                                </ng-container>

                                <!-- statu Column -->
                                <ng-container matColumnDef="commissionRet">
                                    <th mat-header-cell *matHeaderCellDef mat-sort-header> Commissions</th>
                                    <td mat-cell *matCellDef="let row"> {{row.commissionRet}} </td>
                                </ng-container>


                                <!-- statu Column -->
                                <ng-container matColumnDef="status">
                                    <th mat-header-cell *matHeaderCellDef mat-sort-header> Status</th>
                                    <td mat-cell *matCellDef="let row"> {{row.status}} </td>
                                </ng-container>

                                <tr mat-header-row *matHeaderRowDef="displayedColumnsRet"></tr>
                                <tr mat-row *matRowDef="let row; columns: displayedColumnsRet;">
                                </tr>
                            </table>

                            <mat-paginator #paginator1 [pageSizeOptions]="[5, 10, 25, 100]"></mat-paginator>
                        </div>
                    </div>
                </mat-tab>
            </mat-tab-group>
        </div>
    </div>
</div>